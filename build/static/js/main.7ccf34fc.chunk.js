(this["webpackJsonpshpping-cart"]=this["webpackJsonpshpping-cart"]||[]).push([[0],{54:function(t,e,c){},83:function(t,e,c){"use strict";c.r(e);var a=c(0),r=c.n(a),n=c(20),s=c.n(n),i=(c(54),c(19)),o=(c(55),c(15)),l=c(6),d=c(5),u=c(1);var j,b=function(){var t=Object(d.e)((function(t){return t.cart})).cartTotalQuantity;return Object(u.jsxs)("nav",{className:"nav-bar",children:[Object(u.jsx)(o.b,{to:"/",children:Object(u.jsx)("h2",{children:"OnlineShop"})}),Object(u.jsx)(o.b,{to:"/cart",children:Object(u.jsxs)("div",{className:"nav-bag",children:[Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",fill:"currentColor",className:"bi bi-cart3",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),Object(u.jsx)("span",{className:"bag-quantity",children:Object(u.jsx)("span",{children:t})})]})})]})},h=c(47),m=c(28),p=c(2),O={cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],cartTotalQuantity:0,cartTotalAmount:0},x=Object(p.d)({name:"cart",initialState:O,reducers:{addToCart:function(t,e){var c=t.cartItems.findIndex((function(t){return t.id===e.payload.id}));if(c>=0)t.cartItems[c].cartQuantity+=1,i.b.info("".concat(t.cartItems[c].name," Increased"),{position:"top-right"});else{var a=Object(m.a)(Object(m.a)({},e.payload),{},{cartQuantity:1});t.cartItems.push(a),i.b.success(" ".concat(a.name," added to Cart"),{position:"top-right"})}localStorage.setItem("cartItems",JSON.stringify(t.cartItems))},removeFromCart:function(t,e){var c=t.cartItems.filter((function(t){return t.id!==e.payload.id}));t.cartItems=c,localStorage.setItem("cartItems",JSON.stringify(t.cartItems)),i.b.error(" ".concat(e.payload.name," romoved from Cart"),{position:"top-right"})},decreaseCart:function(t,e){var c=t.cartItems.findIndex((function(t){return t.id===e.payload.id})),a=t.cartItems.filter((function(t){return t.id!==e.payload.id}));t.cartItems[c].cartQuantity>1?(t.cartItems[c].cartQuantity-=1,localStorage.setItem("cartItems",JSON.stringify(t.cartItems))):1===t.cartItems[c].cartQuantity&&(t.cartItems=a),localStorage.setItem("cartItems",JSON.stringify(t.cartItems))},increaseCart:function(t,e){var c=t.cartItems.findIndex((function(t){return t.id===e.payload.id}));t.cartItems[c].cartQuantity+=1,localStorage.setItem("cartItems",JSON.stringify(t.cartItems))},clearCart:function(t,e){t.cartItems=[],i.b.error("Cart Cleared",{position:"top-right"}),localStorage.setItem("cartItems",JSON.stringify(t.cartItems))},getTotals:function(t,e){var c=t.cartItems.reduce((function(t,e){var c=e.price,a=e.cartQuantity,r=c*a;return t.total+=r,t.quantity+=a,t}),{total:0,quantity:0}),a=c.total,r=c.quantity;t.cartTotalQuantity=r,t.cartTotalAmount=a}}}),v=x.actions,f=v.addToCart,g=v.removeFromCart,y=v.decreaseCart,I=v.increaseCart,N=v.clearCart,C=v.getTotals,w=x.reducer,S=c(41),k=c(8),Q=Object(S.a)({reducerPath:"productsApi",baseQuery:Object(k.d)({baseUrl:"https://reactreduxshoppingcartbackend.herokuapp.com"}),endpoints:function(t){return{getAllProducts:t.query({query:function(){return"products"}})}}}),A=Q.useGetAllProductsQuery,T=c(17),q=c(29),H=c.n(q),z=c(42),J=c(43),P=c.n(J),L=Object(p.c)("getProducts",Object(z.a)(H.a.mark((function t(){var e,c,a,r=arguments;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:null,e=r.length>1?r[1]:void 0,c=e.rejectWithValue,t.prev=2,t.next=5,P.a.get("http://localhost:5000/products");case 5:return a=t.sent,t.abrupt("return",null===a||void 0===a?void 0:a.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",c("an error occured trying to acess this link"));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),M=Object(p.d)({name:"products",initialState:{items:[],status:null,error:null,message:null},reducers:{},extraReducers:(j={},Object(T.a)(j,L.pending,(function(t){t.status="pending"})),Object(T.a)(j,L.fulfilled,(function(t,e){t.status="success",t.items=e.payload,t.message="items fetched success"})),Object(T.a)(j,L.rejected,(function(t,e){t.status="rejected",t.error=e.payload})),j)}).reducer;var B=function(t){var e=t.product,c=t.handleAddToCart;return Object(u.jsxs)("div",{className:"product",children:[Object(u.jsx)("h3",{children:e.name}),Object(u.jsx)("img",{src:e.image,alt:e.name}),Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("span",{className:"product-description",children:e.desc}),Object(u.jsxs)("span",{className:"price",children:["$",e.price]})]}),Object(u.jsx)("button",{onClick:function(){return c(e)},children:"Add to Cart"})]},e.id)},F=c(44);var R=function(){var t=Object(d.d)(),e=Object(l.g)(),c=Object(d.e)((function(t){return t.products})),r=(c.items,c.status,c.messege,A()),n=r.data,s=r.error,i=r.isLoading,o=Object(a.useState)(!0),j=Object(h.a)(o,2),b=j[0],m=(j[1],function(c){t(f(c)),e.push("/cart")});return Object(u.jsx)("div",{className:"home-container",children:i?Object(u.jsx)(F.PushSpinner,{size:30,color:"#686769",loading:b}):s?Object(u.jsx)("p",{children:"erro ocured"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Mew Arrivals"}),Object(u.jsx)("div",{className:"products",children:null===n||void 0===n?void 0:n.map((function(t){return Object(u.jsx)(B,{style:{margin:"20px"},product:t,handleAddToCart:m})}))})]})})};function $(t){t.handleAddToCart;var e,c,r=Object(d.e)((function(t){return t.cart})),n=Object(d.d)();Object(a.useEffect)((function(){n(C())}),[r,n]);var s=function(t){n(y(t))},i=function(t){n(I(t))};return Object(u.jsx)("div",{className:"cart-container",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Shopping Cart"}),0===(null===(e=r.cartItems)||void 0===e?void 0:e.length)?Object(u.jsxs)("div",{className:"cart-empty",children:[Object(u.jsx)("p",{children:"Your cart is currently empty."}),Object(u.jsx)("div",{className:"start-shopping",children:Object(u.jsxs)(o.b,{to:"/",children:[Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})}),Object(u.jsx)("span",{children:"start shopping"})]})})]}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"titles",children:[Object(u.jsx)("h3",{className:"product-title",children:"Product"}),Object(u.jsx)("h3",{className:"price",children:"Price"}),Object(u.jsx)("h3",{className:"quantity",children:"Quantity"}),Object(u.jsx)("h3",{className:"total",children:"Total"})]}),Object(u.jsx)("div",{className:"cart-items",children:null===(c=r.cartItems)||void 0===c?void 0:c.map((function(t){return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsxs)("div",{className:"cart-product",children:[Object(u.jsx)("img",{src:t.image,alt:t.name}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:t.name}),Object(u.jsx)("p",{children:t.desc}),Object(u.jsx)("button",{onClick:function(){return function(t){n(g(t))}(t)},children:"Remove"})]})]}),Object(u.jsxs)("div",{className:"cart-porduct-price",children:["$",t.price]}),Object(u.jsx)("div",{className:"cart-product-qantity-web",children:Object(u.jsxs)("div",{className:"cart-product-qantity",children:[Object(u.jsx)("button",{onClick:function(){return s(t)},children:"-"}),Object(u.jsx)("div",{className:"count",children:t.cartQuantity}),Object(u.jsx)("button",{onClick:function(){return i(t)},children:"+"})]})}),Object(u.jsx)("div",{className:"cart-product-qantity-mobile",children:Object(u.jsxs)("div",{className:"cart-product-qantity",children:[Object(u.jsx)("button",{onClick:function(){return i(t)},children:"+"}),Object(u.jsx)("div",{className:"count",children:t.cartQuantity}),Object(u.jsx)("button",{onClick:function(){return s(t)},children:"-"})]})}),Object(u.jsxs)("div",{className:"cart-product-total-price",children:["$",t.price*t.cartQuantity]})]},t.id)}))}),Object(u.jsxs)("div",{className:"cart-summary",children:[Object(u.jsx)("button",{onClick:function(){n(N())},className:"clear-cart",children:"Clear Cart"}),Object(u.jsxs)("div",{className:"cart-checkout",children:[Object(u.jsxs)("div",{className:"subtotal",children:[Object(u.jsx)("span",{children:"Subtotal"}),Object(u.jsxs)("span",{className:"amout",children:["$",r.cartTotalAmount]})]}),Object(u.jsx)("p",{children:"Taxes and shipping calculated at checkout."}),Object(u.jsx)("button",{children:"Check out "}),Object(u.jsx)("div",{className:"continue-shopping",children:Object(u.jsxs)(o.b,{to:"/",children:[Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})}),Object(u.jsx)("span",{children:"Continue shopping"})]})})]})]})]})]})})}var E=function(){return Object(u.jsxs)("div",{className:"not-found",children:[Object(u.jsx)("h2",{children:"404"}),Object(u.jsx)("p",{children:"Page not found"})]})};var G=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(i.a,{}),Object(u.jsx)(b,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",component:R}),Object(u.jsx)(l.b,{exact:!0,path:"/not-found",component:E}),Object(u.jsx)(l.b,{exact:!0,path:"/cart",component:$}),Object(u.jsx)(l.a,{to:"/not-found"})]})]})})},U=Object(p.a)({reducer:Object(T.a)({products:M,cart:w},Q.reducerPath,Q.reducer),middleware:function(t){return t().concat(Q.middleware)}});U.dispatch(L()),U.dispatch(C());var V=U;s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(d.a,{store:V,children:Object(u.jsx)(G,{})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.7ccf34fc.chunk.js.map